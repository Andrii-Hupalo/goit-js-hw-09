{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formData = { email: '', message: '' };\nconst STORAGE_KEY = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\nif (!form) {\n  console.error('Form .feedback-form not found in DOM');\n} else {\n  function onInput(event) {\n    const target = event.target;\n    if (!target.name) return;\n    if (target.name !== 'email' && target.name !== 'message') return;\n\n    formData[target.name] = target.value;\n    try {\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n    } catch (err) {\n      console.error('LocalStorage error:', err);\n    }\n  }\n\n  function restoreFormData() {\n    const saved = localStorage.getItem(STORAGE_KEY);\n    if (!saved) return;\n    try {\n      const parsed = JSON.parse(saved);\n      if (parsed && typeof parsed === 'object') {\n        for (const key of ['email', 'message']) {\n          if (parsed[key] !== undefined && form.elements[key]) {\n            form.elements[key].value = parsed[key];\n            formData[key] = parsed[key];\n          }\n        }\n      }\n    } catch (err) {\n      console.error('Error parsing saved form data:', err);\n    }\n  }\n  function onSubmit(event) {\n    event.preventDefault();\n    if (formData.email.trim() === '' || formData.message.trim() === '') {\n      alert('Fill please all fields');\n      return;\n    }\n    console.log(formData);\n    localStorage.removeItem(STORAGE_KEY);\n    form.reset();\n    formData.email = '';\n    formData.message = '';\n  }\n  form.addEventListener('input', onInput);\n  window.addEventListener('DOMContentLoaded', restoreFormData);\n  form.addEventListener('submit', onSubmit);\n}\n\nconst textarea = document.querySelector('textarea');\n\ntextarea.addEventListener('input', () => {\n  textarea.style.height = 'auto';\n  textarea.style.height = textarea.scrollHeight + 'px';\n});\n"],"names":["formData","STORAGE_KEY","form","onInput","event","target","err","restoreFormData","saved","parsed","key","onSubmit","textarea"],"mappings":"wFAAA,MAAMA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnCC,EAAc,sBACdC,EAAO,SAAS,cAAc,gBAAgB,EACpD,GAAI,CAACA,EACH,QAAQ,MAAM,sCAAsC,MAC/C,CACL,IAASC,EAAT,SAAiBC,EAAO,CACtB,MAAMC,EAASD,EAAM,OACrB,GAAKC,EAAO,MACR,EAAAA,EAAO,OAAS,SAAWA,EAAO,OAAS,WAE/C,CAAAL,EAASK,EAAO,IAAI,EAAIA,EAAO,MAC/B,GAAI,CACF,aAAa,QAAQJ,EAAa,KAAK,UAAUD,CAAQ,CAAC,CAC3D,OAAQM,EAAK,CACZ,QAAQ,MAAM,sBAAuBA,CAAG,CACzC,EACF,EAEQC,EAAT,UAA2B,CACzB,MAAMC,EAAQ,aAAa,QAAQP,CAAW,EAC9C,GAAKO,EACL,GAAI,CACF,MAAMC,EAAS,KAAK,MAAMD,CAAK,EAC/B,GAAIC,GAAU,OAAOA,GAAW,SAC9B,UAAWC,IAAO,CAAC,QAAS,SAAS,EAC/BD,EAAOC,CAAG,IAAM,QAAaR,EAAK,SAASQ,CAAG,IAChDR,EAAK,SAASQ,CAAG,EAAE,MAAQD,EAAOC,CAAG,EACrCV,EAASU,CAAG,EAAID,EAAOC,CAAG,EAIjC,OAAQJ,EAAK,CACZ,QAAQ,MAAM,iCAAkCA,CAAG,CACpD,CACF,EACQK,EAAT,SAAkBP,EAAO,CAEvB,GADAA,EAAM,eAAc,EAChBJ,EAAS,MAAM,SAAW,IAAMA,EAAS,QAAQ,KAAM,IAAK,GAAI,CAClE,MAAM,wBAAwB,EAC9B,MACD,CACD,QAAQ,IAAIA,CAAQ,EACpB,aAAa,WAAWC,CAAW,EACnCC,EAAK,MAAK,EACVF,EAAS,MAAQ,GACjBA,EAAS,QAAU,EACpB,EACDE,EAAK,iBAAiB,QAASC,CAAO,EACtC,OAAO,iBAAiB,mBAAoBI,CAAe,EAC3DL,EAAK,iBAAiB,SAAUS,CAAQ,CAC1C,CAEA,MAAMC,EAAW,SAAS,cAAc,UAAU,EAElDA,EAAS,iBAAiB,QAAS,IAAM,CACvCA,EAAS,MAAM,OAAS,OACxBA,EAAS,MAAM,OAASA,EAAS,aAAe,IAClD,CAAC"}